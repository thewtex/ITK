set( SCIFIOJars @SCIFIOJars@ )
set( SCIFIOJars_SHA256 @SCIFIOJars_SHA256@ )
set( jarsDownloadDirectory @jarsDownloadDirectory@ )
file( MAKE_DIRECTORY ${jarsDownloadDirectory} )
list( LENGTH SCIFIOJars numberOfJars )
set( ii 0 )
while( ${ii} LESS ${numberOfJars} )
  list( GET SCIFIOJars ${ii} jar )
  list( GET SCIFIOJars_SHA256 ${ii} jarSha )
  set( outputFile ${jarsDownloadDirectory}/${jar} )
  if( EXISTS ${outputFile} )
    file( SHA256 ${outputFile} currentSha )
    if( NOT "${jarSha}" STREQUAL "${currentSha}" )
      file( REMOVE ${outputFile} )
    endif()
  endif()
  if( NOT EXISTS ${outputFile} )
    file( DOWNLOAD http://cvs.openmicroscopy.org.uk/snapshots/bioformats/4.4.5/${jar}
      ${outputFile}
      EXPECTED_HASH SHA256=${jarSha} SHOW_PROGRESS
      )
  endif()
  math( EXPR ii "${ii} + 1" )
endwhile()
